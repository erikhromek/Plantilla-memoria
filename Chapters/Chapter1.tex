% Chapter 1

\chapter{Introducción general} % Main chapter title

\label{Chapter1} % For referencing the chapter elsewhere, use \ref{Chapter1} 
\label{IntroGeneral}

%----------------------------------------------------------------------------------------

% Define some commands to keep the formatting separated from the content 
\newcommand{\keyword}[1]{\textbf{#1}}
\newcommand{\tabhead}[1]{\textbf{#1}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\file}[1]{\texttt{\bfseries#1}}
\newcommand{\option}[1]{\texttt{\itshape#1}}
\newcommand{\grados}{$^{\circ}$}

%----------------------------------------------------------------------------------------

%\section{Introducción}

Este capítulo presenta una introducción a los conceptos básicos de la temática del trabajo y explica las principales causas que motivaron el desarrollo del proyecto, junto con los objetivos que se buscaron alcanzar.

%----------------------------------------------------------------------------------------
\section{Planteo básico}

Existen en la actualidad diferentes soluciones en lo que respecta a la prevención o seguridad ciudadana \citep{PNUD:1}. Estos sistemas centralizan información en tiempo real de cámaras de seguridad, móviles de las fuerzas de seguridad, entre otros. Además, suelen incorporar alguna funcionalidad para que un ciudadano, ante una situación de emergencia, pueda dar aviso a las autoridades. El mecanismo para notificar puede ser una aplicación móvil, un dispositivo geolocalizador u otra alternativa pero el objetivo es el mismo.

\begin{figure}[htbp]
	\centering
	\includegraphics[width=.9\textwidth]{./Figures/diagBloques.png}
	\caption{Diagrama en bloques del dispositivo y el sistema web}
	\label{fig:texmaker}
\end{figure}

\subsection{Botones antipánico}

Un botón antipánico hace referencia a un dispositivo pequeño y portátil, con una batería, que permite que una persona ante una situación de emergencia, presione el dispositivo para generar una alerta y esta sea recepcionada en un sistema de monitoreo.

Estos dispositivos generalmente son brindados por las autoridades, o también pueden ser brindados por empresas de seguridad privadas. Sus beneficiarios suelen ser:
\begin{itemize}
\item Personas en situación de violencia de género.	
\item Personas en situación de violencia intrafamiliar.
\item Establecimientos donde pueden ocurrir situaciones de violencia y es necesario dar rápidamente aviso a las autoridades.
\item Agente o sereno cuyo recorrido debe ser registrado.
\item Entre otros.
\end{itemize}

Entre sus funcionalidades, suelen poseer:
\begin{itemize}
\item Conectividad a la red de telefonía móvil (\textit{Global System for Mobile communications} o GSM).
\item Acceso a datos móviles (\textit{General Packet Radio Service} o GPRS).
\item Conectividad a sistemas de geoposicionamiento satelital (\textit{Global Navigation Satellite System} o GNSS).
\item Botón de disparo de alerta.
\item Reporte periódico de ubicación por mensaje de texto (SMS) o vía web.
\end{itemize}

Un detalle interesante respecto a estos dispositivos es que generalmente se comercializan en dos formatos:

\begin{itemize}
\item Dispositivo personal: dispositivo embebido que puede ser llevado como colgante, en la muñeca o en el bolsillo. Tiene una autonomía limitada.
\item Dispositivo para móviles: también conocido como AVL o \textit{Automatic Vehicle Location}; además de contar con antenas externas para mayor precisión, cuenta con cables para conexión a la batería de los vehículos, permitiendo tener una mayor autonomía.
\end{itemize}


En relación a este trabajo, se planteó el desarrollo del prototipo de un botón geolocalizador y una plataforma web a modo de prueba de concepto, para la recepción de alertas.

%----------------------------------------------------------------------------------------

\section{Motivación}

El autor del trabajo ha trabajado anteriormente con este tipo de soluciones, principalmente en la adquisición, configuración, implementación y soporte de botones antipánico disponibles en el mercado. Se detectó y se llegó a la conclusión, respecto a los dispositivos, de que estos presentan los siguientes inconvenientes:

\begin{itemize}
\item Especificaciones de hardware obsoletas.
\item Documentación escasa, desactualizada o incluso incorrecta en algunos casos.
\item Poca fiabilidad de dispositivo (dificultad para configurarlos, mala señal en ambientes \textit{indoor}, desconfianza al momento de utilizarlo).
\item Inconsistencias entre dispositivos idénticos.
\item Poca duración de batería (desde aproximadamente 24 horas hasta 3 o 4 días como máximo, cuando lo deseable para el beneficiario final del botón es de al menos 5 o 6 días).
\item Precio exageradamente elevado y muchas dificultades para adquirirlos mediante proveedores, más en períodos de alta inflación.
\item Nulas características de seguridad.
\end{itemize}

Se investigaron y revisaron diferentes alternativas en el mercado, así como también se trabajó con dispositivos utilizados por sistemas de la competencia, llegando a conclusiones similares: no se encuentran dispositivos aceptables cuyo costo sea accesible.

Todas estas cuestiones nombradas anteriormente son las que motivaron la formulación del proyecto, siendo necesario disponer de mínimamente un dispositivo embebido con un conjunto de funcionalidades definidas, y un sistema web que permita recepcionar la información del botón.

Otras motivaciones menores del trabajo, pero igualmente muy relacionadas a la especialización, fueron:
\begin{itemize}
\item Profundizar en el uso de frameworks para \textit{Single Web Applications} o SPAs.
\item Poder aplicar los conocimientos trabajados en relación a tecnologías \textit{cloud} y desarrollo de APIs web.
\end{itemize}

%----------------------------------------------------------------------------------------

\section{Objetivos y alcance}

En relación a los objetivos de alto nivel del trabajo, estos fueron:
\begin{itemize}
\item Investigación y determinación de un conjunto de módulos de hardware que sean adecuados para la construcción del prototipo.
\item Diseño y construcción un prototipo de botón antipánico que permita validar las decisiones tecnológicas.
\item Tener fiabilidad superior sobre ciertas características, en comparación con algunos de los dispositivos disponibles en el mercado.
\item Desarrollo de un sistema web a modo de prueba de concepto para el uso del dispositivo.
\end{itemize}

Respecto a los objetivos por componente, estos fueron:

\begin{table}[h]
	\centering
	\caption[Resumen de objetivos]{Resumen de objetivos del trabajo}
	\begin{tabular}{l c c}    
		\toprule
		\textbf{Componente} 	 & \textbf{Objetivo} 	  \\
		\midrule
		Prototipo & Duración de la batería 				\\		
		Prototipo & Calidad de señal de GSM en ambientes cerrados y abiertos			\\
		Prototipo & Calidad de señal de GNSS en ambientes cerrados y abiertos			\\
		Prototipo & Tiempo de actualización de la ubicación (\textit{time-to-first-fix}) \\
		Prototipo & Envío de alertas mediante pulsador		\\
		Sistema web & Recepción de SMS de alertas			\\
		Sistema web & Alta de dispositivos			\\
		Sistema web & Visualización de alertas en tiempo real			\\
		Sistema web & Despliegue en un entorno \textit{cloud}			\\
		\bottomrule
		\hline
	\end{tabular}
	\label{tab:peces}
\end{table}

No se incluyeron dentro del alcance del trabajo, las siguientes características:

\begin{itemize}
\item Aplicación web productiva para gestionar las activaciones del botón antipánico. Por productiva se refiere a que pueda ser ofrecida al mercado o utilizable por usuarios encargados del monitoreo.
\item Desarrollo de un dispositivo listo para reemplazar dispositivos existentes, es decir que no sea un prototipo.
\item Desarrollo de un contenedor físico para el dispositivo.
\end{itemize}

Además, durante el desarrollo del trabajo, se fueron detectando diferentes cuestiones técnicas a resolver, que modificaron algunos objetivos planteados inicialmente.

%----------------------------------------------------------------------------------------

\section{Soluciones comerciales similares}

Retomando los inconvenientes de soluciones actuales, se presentan a continuación algunos modelos conocidos y utilizados en el mercado local. Estos dos modelos sufren los inconvenientes nombrados en las secciones anteriores: el motivo de fondo es que existen muchos clones de estos modelos, resultando muy difícil determinar si se está trabajando con un dispositivo original o un clon con posibles problemas \citep{CLONES:1}.
\subsection{LK109}

LK109 es el nombre de un dispositivo geolocalizador que trabaja con redes GSM y GPRS, y usa \textit{Global Positioning System} (GPS) como sistema de GNSS. Existe también una versión que trabaja con redes 3G, cuyo costo es superior. Entre sus características más interesantes se encuentran \citep{LK109MANUAL:1}:
\begin{itemize}
\item Indicadores de estado: batería, señal de GPS y señal de GSM.
\item Posibilidad de reportar la ubicación mediante TCP o SMS.
\item Reporte de ubicación en tiempo real, con una perioricidad configurable.
\item Posibilidad de monitorear de forma remota el entorno del dispositivo mediante un parlante.
\item Autonomía de 240 horas o 10 días.
\end{itemize}

\begin{figure}[H]
	\centering
	\includegraphics[width=.6\textwidth]{./Figures/lk109.jpg}
	\caption{Imagen del botón LK109}
	\label{fig:texmaker}
\end{figure}

\subsection{TK102B}

TK102B es el nombre de otro dispositivo geolocalizador que trabaja con redes GSM y GPRS, y usa \textit{Global Positioning System} (GPS) como sistema de GNSS. Entre sus características más relevantes se encuentran \citep{TK102BMANUAL:1}:
\begin{itemize}
\item Indicadores de estado: batería, señal de GPS y señal de GSM.
\item Posibilidad de reportar la ubicación mediante TCP o SMS, incluyendo la dirección aproximada, mediante geodecodificación inversa.
\item Reporte de ubicación en tiempo real, con una periodicidad configurable.
\item Posibilidad de monitorear de forma remota el entorno del dispositivo mediante un parlante.
\item Autonomía de 80 horas o 3 días aproximadamente.
\end{itemize}

\begin{figure}[H]
	\centering
	\includegraphics[width=.6\textwidth]{./Figures/tk102b.jpg}
	\caption{Imagen del botón TK102B}
	\label{fig:texmaker}
\end{figure}

\begin{table}[h]
	\centering
	\caption[Tabla comparativa]{Tabla comparativa de los dos modelos}
	\begin{tabular}{l c c}    
		\toprule
		\textbf{Característica} 	 & \textbf{LK109} & \textbf{TK102B}	  \\
		\midrule
		Conectividad & GSM, GPRS, SMS & 	GSM, GPRS, SMS			\\		
		Reporte periódico & Si & Si			\\
		Autonomía (horas) & 240 & 80		\\
		Indicadores de estado & Si & Si \\
		Escucha remota & Si & Si \\
		Protocolo de comunicación & h02 & gps103 \\
		\bottomrule
		\hline
	\end{tabular}
	\label{tab:peces}
\end{table}

Respecto al ítem de autonomía, no se ha podido comprobar en la práctica que la duración sea la indicada (siempre es mucho menor, entre 12 y 24 horas), a excepción del uso mediante \textit{sleep} o ahorro de batería, que no tiene utilidad para las aplicaciones de seguimiento de una persona. Esto es debido a que en el modo de ahorro de batería, la ubicación se actualiza posterior al envío de una alerta y no antes, resultando ínutil la ubicación reportada.

En relación al ítem de escucha remota, es decir la posibilidad de escuchar lo que ocurre alrededor del dispositivo, no se ha podido verificar para varios dispositivos; de todas maneras no resulta, al menos para los casos de uso reales, una funcionalidad atractiva. Las funcionalidades que se deben cumplir y validar a rajatabla son:
\begin{itemize}
	\item Precisión al momento de obtener la ubicación.
	\item Autonomía considerable de la batería.
	\item Rapidez para obtener señal de GSM y GNSS.
\end{itemize}

Por este motivo, es que no se intentó entre los objetivos iniciales ir más allá de las características iniciales.

\section{Personalizando la plantilla, el archivo \file{memoria.tex}}
\label{sec:FillingFile}

Para personalizar la plantilla se debe incorporar la información propia en los distintos archivos \file{.tex}. 

Primero abrir \file{memoria.tex} con TexMaker (o el editor de su preferencia). Se debe ubicar dentro del archivo el bloque de código titulado \emph{INFORMACIÓN DE LA PORTADA} donde se deben incorporar los primeros datos personales con los que se construirá automáticamente la portada.


%----------------------------------------------------------------------------------------

\section{El código del archivo \file{memoria.tex} explicado}

El archivo \file{memoria.tex} contiene la estructura del documento y es el archivo de mayor jerarquía de la memoria.  Podría ser equiparable a la función \emph{main()} de un programa en C, o mejor dicho al archivo fuente .c donde se encuentra definida la función main().

La estructura básica de cualquier documento de \LaTeX{} comienza con la definición de clase del documento, es seguida por un preámbulo donde se pueden agregar funcionalidades con el uso de \texttt{paquetes} (equiparables a bibliotecas de C), y finalmente, termina con el cuerpo del documento, donde irá el contenido de la memoria.

\lstset{%
  basicstyle=\small\ttfamily,
  language=[LaTeX]{TeX}
}

\begin{lstlisting}
\documentclass{article}  <- Definicion de clase
\usepackage{listings}	 <- Preambulo

\begin{document}	 <- Comienzo del contenido propio 
	Hello world!
\end{document}
\end{lstlisting}


El archivo \file{memoria.tex} se encuentra densamente comentado para explicar qué páginas, secciones y elementos de formato está creando el código \LaTeX{} en cada línea. El código está dividido en bloques con nombres en mayúsculas para que resulte evidente qué es lo que hace esa porción de código en particular. Inicialmente puede parecer que hay mucho código \LaTeX{}, pero es principalmente código para dar formato a la memoria por lo que no requiere intervención del usuario de la plantilla.  Sí se deben personalizar con su información los bloques indicados como:

\begin{itemize}
	\item Informacion de la memoria
	\item Resumen
	\item Agradecimientos
	\item Dedicatoria
\end{itemize}

El índice de contenidos, las listas de figura de tablas se generan en forma automática y no requieren intervención ni edición manual por parte del usuario de la plantilla. 

En la parte final del documento se encuentran los capítulos y los apéndices.  Por defecto se incluyen los 5 capítulos propuestos que se encuentran en la carpeta /Chapters. Cada capítulo se debe escribir en un archivo .tex separado y se debe poner en la carpeta \emph{Chapters} con el nombre \file{Chapter1}, \file{Chapter2}, etc\ldots El código para incluir capítulos desde archivos externos se muestra a continuación.

\begin{verbatim}
	\include{Chapters/Chapter1}
	\include{Chapters/Chapter2} 
	\include{Chapters/Chapter3}
	\include{Chapters/Chapter4} 
	\include{Chapters/Chapter5} 
\end{verbatim}

Los apéndices también deben escribirse en archivos .tex separados, que se deben ubicar dentro de la carpeta \emph{Appendices}. Los apéndices vienen comentados por defecto con el caracter \code{\%} y para incluirlos simplemente se debe eliminar dicho caracter.

Finalmente, se encuentra el código para incluir la bibliografía en el documento final.  Este código tampoco debe modificarse. La metodología para trabajar las referencias bibliográficas se desarrolla en la sección \ref{sec:biblio}.
%----------------------------------------------------------------------------------------

\section{Bibliografía}
\label{sec:biblio}

Las opciones de formato de la bibliografía se controlan a través del paquete de latex \option{biblatex} que se incluye en la memoria en el archivo memoria.tex.  Estas opciones determinan cómo se generan las citas bibliográficas en el cuerpo del documento y cómo se genera la bibliografía al final de la memoria.

En el preámbulo se puede encontrar el código que incluye el paquete biblatex, que no requiere ninguna modificación del usuario de la plantilla, y que contiene las siguientes opciones:

\begin{lstlisting}
\usepackage[backend=bibtex,
	natbib=true, 
	style=numeric, 
	sorting=none]
{biblatex}
\end{lstlisting}

En el archivo \file{reference.bib} se encuentran las referencias bibliográficas que se pueden citar en el documento.  Para incorporar una nueva cita al documento lo primero es agregarla en este archivo con todos los campos necesario.  Todas las entradas bibliográficas comienzan con $@$ y una palabra que define el formato de la entrada.  Para cada formato existen campos obligatorios que deben completarse. No importa el orden en que las entradas estén definidas en el archivo .bib.  Tampoco es importante el orden en que estén definidos los campos de una entrada bibliográfica. A continuación se muestran algunos ejemplos:

\begin{lstlisting}
@ARTICLE{ARTICLE:1,
    AUTHOR="John Doe",
    TITLE="Title",
    JOURNAL="Journal",
    YEAR="2017",
}
\end{lstlisting}


\begin{lstlisting}
@BOOK{BOOK:1,
    AUTHOR="John Doe",
    TITLE="The Book without Title",
    PUBLISHER="Dummy Publisher",
    YEAR="2100",
}
\end{lstlisting}


\begin{lstlisting}
@INBOOK{BOOK:2,
    AUTHOR="John Doe",
    TITLE="The Book without Title",
    PUBLISHER="Dummy Publisher",
    YEAR="2100",
    PAGES="100-200",
}
\end{lstlisting}




Se debe notar que los nombres \emph{ARTICLE:1}, \emph{BOOK:1}, \emph{BOOK:2} y \emph{WEBSITE:1} son nombres de fantasía que le sirve al autor del documento para identificar la entrada. En este sentido, se podrían reemplazar por cualquier otro nombre.  Tampoco es necesario poner : seguido de un número, en los ejemplos sólo se incluye como un posible estilo para identificar las entradas.

La entradas se citan en el documento con el comando: 

\begin{verbatim}
\citep{nombre_de_la_entrada}
\end{verbatim}

Y cuando se usan, se muestran así: \citep{ARTICLE:1}, \citep{BOOK:1}, \citep{BOOK:2}, \citep{WEBSITE:1}.  Notar cómo se conforma la sección Bibliografía al final del documento.

Finalmente y como se mencionó en la subsección \ref{subsec:configurando}, para actualizar las referencias bibliográficas tanto en la sección bibliografía como las citas en el cuerpo del documento, se deben ejecutar las herramientas de compilación PDFLaTeX, BibTeX, PDFLaTeX, PDFLaTeX, en ese orden.  Este procedimiento debería resolver cualquier mensaje "Citation xxxxx on page x undefined".
